前提：
1. 不涉及 Redis 缓存
2. 只涉及 Spring-boot 基础流程和 CRUD 操作
以开发站点查询接口为例：
### 1. 分析接口
#### 请求参数
![](../../imgs/Pasted%20image%2020250909184341.png)
#### 请求路径
`/api/ticket-service/region-station/query`
#### 返回响应
![](../../imgs/Pasted%20image%2020250909184418.png)
### 2. 产品选型
选用最新的 Spring-boot 3.5.5
### 3. 依赖导入
1. 引入 spring-boot web
```xml
<dependency>  
    <groupId>org.springframework.boot</groupId>  
    <artifactId>spring-boot-starter-web</artifactId>  
</dependency>
```
2. 引入 spring-boot test 和 web
```xml
<dependency>  
    <groupId>org.springframework.boot</groupId>  
    <artifactId>spring-boot-starter-web</artifactId>  
</dependency>  
<dependency>  
    <groupId>org.springframework.boot</groupId>  
    <artifactId>spring-boot-starter-test</artifactId>  
</dependency>
```
3. 引入mysql操作
```xml
<dependency>  
    <groupId>org.springframework.boot</groupId>  
    <artifactId>spring-boot-starter-data-jdbc</artifactId>  
</dependency>
<dependency>  
    <groupId>mysql</groupId>  
    <artifactId>mysql-connector-java</artifactId>  
    <scope>runtime</scope>  
    <version>8.0.30</version>  
</dependency>
```
4. 引入mybatis-plus
```xml
<dependency>  
    <groupId>org.mybatis</groupId>  
    <artifactId>mybatis-spring</artifactId>  
    <version>3.0.3</version>  
</dependency>  
<dependency>  
    <groupId>com.baomidou</groupId>  
    <artifactId>mybatis-plus-boot-starter</artifactId>  
    <version>3.5.5</version>  
</dependency>
```
5. 引入Lombok注解处理
```xml
<dependency>  
    <groupId>org.projectlombok</groupId>  
    <artifactId>lombok</artifactId>  
    <scope>provided</scope>  
</dependency>
```
需要注意的事项有：
1. 确保其他依赖支持使用的spring-boot版本，避免冲突
### 4. 接口开发
![](../../imgs/Pasted%20image%2020250909185029.png)
首先，确保文件结构正确
然后，分别创建 controller 层，service 层 和 mapper 层。确保项目符合三层架构，保证解耦。
#### 1. controller层开发
```java
@Slf4j
@RestController  
@RequiredArgsConstructor  
public class TrainStationController {  
    private final TrainStationService trainStationService;  
  
    /**  
     * 获取列车经停站信息  
     * @param trainId  
     * @return  
     */  
    @GetMapping("/api/ticket-service/train-station/query")  
    public Result<List<TrainStationQueryRespDTO>> listTrainStationQuery(String trainId){  
        log.info("listTrainStationQuery:{}", trainId);  
        return trainStationService.listTrainStationQuery(trainId);  
    }
}
```
- Slf4j注解：启用日志
- RestController注解：确保springboot正确管理该controller类
- RequiredArgsConstructor注解：lombok，自动为需要的`final`类型的局部变量创建构造方法并引入。
#### 2. service层开发
![](../../imgs/Pasted%20image%2020250909185444.png)
在 Service 接口中定义对应 Controller 类所需要的方法。
在对应实现类中实现。
在此，贴入实现的方法。
```java
@Override  
public Result<List<TrainStationQueryRespDTO>> listTrainStationQuery(String trainId) {  
    LambdaQueryWrapper<TrainStationDO> queryWrapper = Wrappers.lambdaQuery(TrainStationDO.class)  
            .eq(TrainStationDO::getTrainId, trainId);  
    List<TrainStationDO> trainStationDOS = trainStationMapper.selectList(queryWrapper);  
    return Results.success(BeanUtil.convert(trainStationDOS, TrainStationQueryRespDTO.class));  
}
```
#### 3. mapper层开发
由于项目引入了mybatis-plus，所以，我们可以使用 mbp 形式的mapper层实现。
```java
package cn.foreveryang.my12306.mapper;  
  
import cn.foreveryang.my12306.dao.entity.TrainStationDO;  
import com.baomidou.mybatisplus.core.mapper.BaseMapper;  
  
  
public interface TrainStationMapper extends BaseMapper<TrainStationDO> {  
}
```
需要注意的是，我们实现要定义一个与我们数据库息息相关的DO实体类。
